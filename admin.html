<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - DANY BEATS</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: #000;
            color: #fff;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        header {
            text-align: center;
            padding: 40px 0;
            border-bottom: 3px solid #ff0080;
            margin-bottom: 40px;
        }

        h1 {
            font-size: 3em;
            background: linear-gradient(135deg, #ff0080, #ff8c00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .login-section {
            max-width: 400px;
            margin: 100px auto;
            padding: 40px;
            background: linear-gradient(135deg, rgba(255,0,128,0.1), rgba(255,140,0,0.1));
            border: 2px solid #ff0080;
            border-radius: 20px;
        }

        .login-section h2 {
            color: #ff0080;
            margin-bottom: 30px;
            text-align: center;
        }

        .login-section input {
            width: 100%;
            padding: 15px;
            margin-bottom: 20px;
            background: rgba(255,0,128,0.1);
            border: 2px solid rgba(255,0,128,0.3);
            border-radius: 10px;
            color: #fff;
            font-size: 1em;
        }

        .login-section input:focus {
            outline: none;
            border-color: #ff0080;
        }

        .login-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #ff0080, #ff8c00);
            border: none;
            border-radius: 10px;
            color: white;
            font-size: 1.1em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .login-btn:hover {
            transform: translateY(-3px);
        }

        .dashboard {
            display: none;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .stat-card {
            background: linear-gradient(135deg, rgba(255,0,128,0.2), rgba(255,140,0,0.2));
            padding: 30px;
            border-radius: 15px;
            border: 2px solid #ff0080;
            text-align: center;
        }

        .stat-card h3 {
            color: #ff0080;
            font-size: 1.2em;
            margin-bottom: 15px;
        }

        .stat-number {
            font-size: 3em;
            font-weight: bold;
            background: linear-gradient(135deg, #ff0080, #ff8c00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .section {
            background: linear-gradient(135deg, rgba(255,0,128,0.05), rgba(255,140,0,0.05));
            padding: 30px;
            border-radius: 20px;
            border: 2px solid rgba(255,0,128,0.3);
            margin-bottom: 30px;
        }

        .section h2 {
            color: #ff0080;
            margin-bottom: 25px;
            font-size: 2em;
        }

        .beat-stats {
            display: grid;
            gap: 15px;
        }

        .beat-stat-item {
            background: rgba(255,0,128,0.1);
            padding: 20px;
            border-radius: 15px;
            border-left: 4px solid #ff0080;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .beat-name {
            font-size: 1.2em;
            font-weight: bold;
        }

        .beat-numbers {
            display: flex;
            gap: 20px;
        }

        .number-box {
            text-align: center;
        }

        .number-label {
            font-size: 0.85em;
            opacity: 0.7;
            margin-bottom: 5px;
        }

        .number-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #ff0080;
        }

        .comment-list {
            display: grid;
            gap: 15px;
        }

        .comment-card {
            background: rgba(255,0,128,0.1);
            padding: 20px;
            border-radius: 15px;
            border-left: 4px solid #ff8c00;
        }

        .comment-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .comment-beat {
            font-weight: bold;
            color: #ff0080;
        }

        .comment-author {
            color: #ff8c00;
        }

        .comment-date {
            opacity: 0.6;
            font-size: 0.9em;
        }

        .comment-text {
            line-height: 1.6;
            opacity: 0.9;
            margin-top: 10px;
        }

        .filter-buttons {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 10px 20px;
            background: rgba(255,0,128,0.2);
            border: 2px solid #ff0080;
            color: white;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .filter-btn:hover,
        .filter-btn.active {
            background: linear-gradient(135deg, #ff0080, #ff8c00);
        }

        .logout-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 10px 20px;
            background: rgba(255,0,128,0.3);
            border: 2px solid #ff0080;
            color: white;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .logout-btn:hover {
            background: #ff0080;
        }

        @media (max-width: 768px) {
            .beat-stat-item {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Login Section -->
        <div class="login-section" id="loginSection">
            <h2>üîê Admin Login</h2>
            <input type="password" id="adminPassword" placeholder="Mot de passe admin">
            <button class="login-btn" onclick="login()">Connexion</button>
        </div>

        <!-- Dashboard -->
        <div class="dashboard" id="dashboard">
            <button class="logout-btn" onclick="logout()">D√©connexion</button>
            
            <header>
                <h1>üìä Admin Dashboard</h1>
                <p>Bienvenue Dany!</p>
            </header>

            <!-- Stats Overview -->
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>Total Likes</h3>
                    <div class="stat-number" id="totalLikes">0</div>
                </div>
                <div class="stat-card">
                    <h3>Total Commentaires</h3>
                    <div class="stat-number" id="totalComments">0</div>
                </div>
                <div class="stat-card">
                    <h3>Beats avec Likes</h3>
                    <div class="stat-number" id="beatsWithLikes">0</div>
                </div>
                <div class="stat-card">
                    <h3>Beats avec Commentaires</h3>
                    <div class="stat-number" id="beatsWithComments">0</div>
                </div>
            </div>

            <!-- Beat Stats -->
            <div class="section">
                <h2>üéµ Stats par Beat</h2>
                <div class="filter-buttons">
                    <button class="filter-btn active" onclick="filterBeats('all')">Tous</button>
                    <button class="filter-btn" onclick="filterBeats('likes')">+ Likes</button>
                    <button class="filter-btn" onclick="filterBeats('comments')">+ Commentaires</button>
                </div>
                <div class="beat-stats" id="beatStats"></div>
            </div>

            <!-- All Comments -->
            <div class="section">
                <h2>üí¨ Tous les Commentaires</h2>
                <div class="filter-buttons">
                    <button class="filter-btn active" onclick="filterComments('all')">Tous</button>
                    <button class="filter-btn" onclick="filterComments('recent')">R√©cents</button>
                </div>
                <div class="comment-list" id="allComments"></div>
            </div>
        </div>
    </div>

    <script>
        // Admin Password (CHANGE SA!)
        const ADMIN_PASSWORD = 'danybeats2024';

        // Beat names mapping
        const beatNames = {
            1: 'SUNSET', 2: 'FATHER', 3: 'NO ONE', 4: 'TRANQUILLE',
            5: 'LOVE STORY', 6: 'MA ROSE', 7: 'DIEU EST GRAND', 8: 'HAITIENNE',
            9: 'SHORT', 10: 'WILL I ARRIVE', 11: 'BEAUTY', 12: 'ALWAYS',
            13: 'DANY', 14: 'ECOLIER', 15: 'HERITIER', 16: 'NICA',
            17: 'BLACK BOY', 19: 'AYOOO', 20: 'FEELING', 21: 'GREAT',
            22: 'CHILD', 23: 'NAVAROO', 25: "I'M SORRY", 26: 'SILENCE',
            27: 'PARIS', 28: 'VANESSA', 29: 'FORGIVE', 30: 'LOVE STORY',
            31: 'TO NIGHT', 33: 'SOURRIRE', 34: 'PASSION 2', 35: 'DOUCEUR',
            37: 'BROCKEN', 38: 'MAMAN', 39: 'ALPHIE', 40: 'MOONLIGHT',
            41: 'MELISSA', 43: 'TASTE', 45: 'LAST DANCE', 46: 'JOY',
            47: 'PLEASE', 48: 'AMANDA', 49: 'SOURRIRE', 50: 'MANIOK',
            51: 'HEART BREAK', 52: 'CAELLE', 53: 'ANTIDOTE', 54: 'SOLITUDE',
            55: 'PENSEE', 56: 'PRETTY GIRL', 57: 'TOGETHER', 58: 'FOLLOW ME',
            59: 'OUBLIE', 60: 'JOLIE MADAMME', 61: 'HAITIEN', 62: 'UNGRY',
            63: 'PRAYER', 64: 'OMMEMA', 65: 'FRIENDS', 66: 'SIWO',
            67: 'CRYING', 68: 'CALME', 69: 'FAKE', 70: 'TEAM7',
            71: 'MOOD', 72: 'DOUCE', 73: 'NAVAR', 74: 'JUST DO IT',
            75: 'NOBLE', 76: 'SYMBA', 77: 'NO ONE', 78: 'KINISHAMA',
            79: 'ALPHIE', 80: 'COME', 81: 'FOR YOU', 82: 'ELISABETH'
        };

        function login() {
            const password = document.getElementById('adminPassword').value;
            if (password === ADMIN_PASSWORD) {
                document.getElementById('loginSection').style.display = 'none';
                document.getElementById('dashboard').style.display = 'block';
                localStorage.setItem('danybeats_admin_logged', 'true');
                loadDashboard();
            } else {
                alert('‚ùå Mot de passe incorrect!');
            }
        }

        function logout() {
            localStorage.removeItem('danybeats_admin_logged');
            document.getElementById('loginSection').style.display = 'block';
            document.getElementById('dashboard').style.display = 'none';
        }

        // Check if already logged in
        if (localStorage.getItem('danybeats_admin_logged') === 'true') {
            document.getElementById('loginSection').style.display = 'none';
            document.getElementById('dashboard').style.display = 'block';
            loadDashboard();
        }

        function loadDashboard() {
            const likes = JSON.parse(localStorage.getItem('danybeats_beat_likes')) || {};
            const comments = JSON.parse(localStorage.getItem('danybeats_beat_comments')) || {};

            // Calculate totals
            let totalLikes = 0;
            let beatsWithLikes = 0;
            Object.values(likes).forEach(like => {
                totalLikes += like.count;
                if (like.count > 0) beatsWithLikes++;
            });

            let totalComments = 0;
            let beatsWithComments = 0;
            Object.values(comments).forEach(commentArray => {
                totalComments += commentArray.length;
                if (commentArray.length > 0) beatsWithComments++;
            });

            // Update stats
            document.getElementById('totalLikes').textContent = totalLikes;
            document.getElementById('totalComments').textContent = totalComments;
            document.getElementById('beatsWithLikes').textContent = beatsWithLikes;
            document.getElementById('beatsWithComments').textContent = beatsWithComments;

            // Load beat stats
            loadBeatStats(likes, comments);

            // Load all comments
            loadAllComments(comments);
        }

        function loadBeatStats(likes, comments) {
            const beatStats = document.getElementById('beatStats');
            let html = '';

            Object.keys(beatNames).forEach(beatId => {
                const likeCount = likes[beatId] ? likes[beatId].count : 0;
                const commentCount = comments[beatId] ? comments[beatId].length : 0;

                if (likeCount > 0 || commentCount > 0) {
                    html += `
                        <div class="beat-stat-item" data-likes="${likeCount}" data-comments="${commentCount}">
                            <div class="beat-name">${beatNames[beatId]}</div>
                            <div class="beat-numbers">
                                <div class="number-box">
                                    <div class="number-label">Likes</div>
                                    <div class="number-value">‚ù§Ô∏è ${likeCount}</div>
                                </div>
                                <div class="number-box">
                                    <div class="number-label">Commentaires</div>
                                    <div class="number-value">üí¨ ${commentCount}</div>
                                </div>
                            </div>
                        </div>
                    `;
                }
            });

            if (html === '') {
                html = '<p style="text-align: center; opacity: 0.6;">Aucune statistique pour le moment.</p>';
            }

            beatStats.innerHTML = html;
        }

        function loadAllComments(comments) {
            const allComments = document.getElementById('allComments');
            let html = '';
            let allCommentsArray = [];

            Object.keys(comments).forEach(beatId => {
                comments[beatId].forEach(comment => {
                    allCommentsArray.push({
                        ...comment,
                        beatId: beatId,
                        beatName: comment.beatName || beatNames[beatId] || `Beat ${beatId}`
                    });
                });
            });

            // Sort by date (most recent first)
            allCommentsArray.sort((a, b) => {
                const dateA = new Date(a.date.split('/').reverse().join('-'));
                const dateB = new Date(b.date.split('/').reverse().join('-'));
                return dateB - dateA;
            });

            allCommentsArray.forEach(comment => {
                html += `
                    <div class="comment-card">
                        <div class="comment-header">
                            <span class="comment-beat">üéµ ${comment.beatName}</span>
                            <span class="comment-author">üë§ ${comment.name}</span>
                            <span class="comment-date">üìÖ ${comment.date}</span>
                        </div>
                        <div class="comment-text">${comment.text}</div>
                    </div>
                `;
            });

            if (html === '') {
                html = '<p style="text-align: center; opacity: 0.6;">Aucun commentaire pour le moment.</p>';
            }

            allComments.innerHTML = html;
        }

        function filterBeats(type) {
            const buttons = document.querySelectorAll('.filter-buttons .filter-btn');
            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            const beatItems = document.querySelectorAll('.beat-stat-item');
            beatItems.forEach(item => {
                const likes = parseInt(item.getAttribute('data-likes'));
                const comments = parseInt(item.getAttribute('data-comments'));

                if (type === 'all') {
                    item.style.display = 'flex';
                } else if (type === 'likes' && likes > 0) {
                    item.style.display = 'flex';
                } else if (type === 'comments' && comments > 0) {
                    item.style.display = 'flex';
                } else {
                    item.style.display = 'none';
                }
            });
        }

        function filterComments(type) {
            // For now just show all, you can add date filtering if needed
            alert('Filtre: ' + type);
        }
    </script>
    <footer>
   
        <p style="text-align: center; margin-top: 40px; opacity: 0.5;">&copy; 2024 DANY BEATS. Tous droits r√©serv√©s.</p>
</footer>
</body>
</html>